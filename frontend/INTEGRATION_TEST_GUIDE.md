# KivaCut å‰åç«¯é›†æˆæµ‹è¯•æŒ‡å—

## ğŸ§ª æµ‹è¯•å‰å‡†å¤‡

### 1. ç¼–è¯‘ Rust åç«¯

```bash
cd frontend/src-tauri
cargo build
```

### 2. å®‰è£…å‰ç«¯ä¾èµ–

```bash
cd frontend
npm install
```

### 3. å¯åŠ¨ Tauri å¼€å‘ç¯å¢ƒ

```bash
cd frontend
npm run tauri dev
```

æˆ–è€…ï¼š

```bash
cd frontend/src-tauri
cargo tauri dev
```

---

## ğŸ§© é›†æˆæµ‹è¯•æ­¥éª¤

### æµ‹è¯• 1: é¡¹ç›®åˆ›å»ºæµç¨‹

**åœºæ™¯**: ä»é¡¹ç›®åˆ›å»ºé¡µé¢åˆ›å»ºæ–°é¡¹ç›®

**æ­¥éª¤**:

1. **æ‰“å¼€åº”ç”¨**
   - Tauri çª—å£è‡ªåŠ¨æ‰“å¼€
   - åº”çœ‹åˆ° KivaCut ä¸»é¡µ

2. **ç‚¹å‡» "Create New Project"**
   - è·³è½¬åˆ° `/project` é¡µé¢
   - çœ‹åˆ°é¡¹ç›®åˆ›å»ºè¡¨å•

3. **å¡«å†™è¡¨å•**
   ```
   é¡¹ç›®åç§°: MyFirstProject
   é¡¹ç›®ä½ç½®: C:\Users\YourName\Documents (Windows)
            æˆ– ~/Documents (Mac/Linux)
   ```

4. **ç‚¹å‡» "Create Project"**
   - çœ‹åˆ°åŠ è½½çŠ¶æ€ï¼ˆspinnerï¼‰
   - ç­‰å¾… 1-2 ç§’

5. **éªŒè¯ç»“æœ**
   ```
   âœ… çœ‹åˆ° "Project created successfully!" æç¤º
   âœ… é¡¹ç›®è·¯å¾„æ˜¾ç¤º: C:\Users\YourName\Documents\MyFirstProject
   âœ… 1 ç§’åè‡ªåŠ¨è·³è½¬åˆ°ç¼–è¾‘å™¨
   ```

6. **æ£€æŸ¥æ–‡ä»¶ç³»ç»Ÿ**
   ```bash
   # Windows
   cd C:\Users\YourName\Documents
   dir MyFirstProject
   
   # Mac/Linux
   ls -la ~/Documents/MyFirstProject/
   ```
   
   **åº”è¯¥çœ‹åˆ°çš„ç»“æ„**:
   ```
   MyFirstProject/
   â”œâ”€â”€ resources/
   â”œâ”€â”€ assets/
   â”œâ”€â”€ output/
   â”œâ”€â”€ project.json
   â””â”€â”€ protocol.json
   ```

### æµ‹è¯• 2: ç¼–è¾‘å™¨è‡ªåŠ¨åŠ è½½èµ„æº

**å‰ç½®æ¡ä»¶**: å·²åˆ›å»ºé¡¹ç›® (æµ‹è¯• 1 å®Œæˆ)

**æ­¥éª¤**:

1. **éªŒè¯èµ„æºæ–‡ä»¶å¤¹**
   ```bash
   # å¤åˆ¶ä¸€äº›æµ‹è¯•æ–‡ä»¶åˆ° resources æ–‡ä»¶å¤¹
   cp ~/Downloads/test_video.mp4 MyFirstProject/resources/
   cp ~/Downloads/test_audio.mp3 MyFirstProject/resources/
   cp ~/Downloads/test_image.png MyFirstProject/resources/
   ```

2. **åˆ·æ–°ç¼–è¾‘å™¨é¡µé¢**
   - æŒ‰ `F5` æˆ–ç‚¹å‡»åˆ·æ–°æŒ‰é’®
   - è§‚å¯Ÿèµ„æºé¢æ¿

3. **éªŒè¯èµ„æºåŠ è½½**
   ```
   âœ… èµ„æºé¢æ¿æ˜¾ç¤º spinnerï¼ˆæ­£åœ¨åŠ è½½ï¼‰
   âœ… spinner æ¶ˆå¤±åæ˜¾ç¤ºèµ„æºç½‘æ ¼
   âœ… çœ‹åˆ° 3 ä¸ªèµ„æºç¼©ç•¥å›¾
   ```

4. **æµ‹è¯•èµ„æºæ ‡ç­¾é¡µåˆ‡æ¢**
   - ç‚¹å‡» "Video" æ ‡ç­¾ â†’ åº”åªæ˜¾ç¤ºè§†é¢‘æ–‡ä»¶
   - ç‚¹å‡» "Audio" æ ‡ç­¾ â†’ åº”åªæ˜¾ç¤ºéŸ³é¢‘æ–‡ä»¶
   - ç‚¹å‡» "Media" æ ‡ç­¾ â†’ åº”æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶

### æµ‹è¯• 3: é¡¹ç›®è·¯å¾„å‚æ•°ä¼ é€’

**æ­¥éª¤**:

1. **æ‰‹åŠ¨æ„é€  URL**
   ```
   http://localhost:3000/editor?project=C:/Users/YourName/Documents/MyFirstProject
   ```

2. **è®¿é—®æ­¤ URL**
   - ç¼–è¾‘å™¨è‡ªåŠ¨åŠ è½½
   - é¡¹ç›®åç§°æ˜¾ç¤ºä¸º "MyFirstProject"
   - èµ„æºè‡ªåŠ¨åŠ è½½

### æµ‹è¯• 4: é”™è¯¯å¤„ç†

**åœºæ™¯**: å¤„ç†ä¸å­˜åœ¨çš„é¡¹ç›®è·¯å¾„

**æ­¥éª¤**:

1. **è®¿é—®ä¸å­˜åœ¨çš„é¡¹ç›®**
   ```
   http://localhost:3000/editor?project=C:/NonExistentPath
   ```

2. **éªŒè¯é”™è¯¯æç¤º**
   ```
   âœ… çœ‹åˆ°çº¢è‰²é”™è¯¯æ¨ªå¹…
   âœ… é”™è¯¯ä¿¡æ¯: "âš ï¸ Failed to list resources: ..."
   âœ… ç¼–è¾‘å™¨ä»å¯æ­£å¸¸ä½¿ç”¨ï¼ˆåªæ˜¯æ— èµ„æºï¼‰
   ```

### æµ‹è¯• 5: è¿”å›ä¸»é¡µ

**æ­¥éª¤**:

1. **åœ¨ç¼–è¾‘å™¨é¡µé¢ç‚¹å‡»è¿”å›æŒ‰é’®** (â† ç¬¦å·)
   - è¿”å›åˆ°ä¸»é¡µ `/`
   - çœ‹åˆ° KivaCut æ¬¢è¿é¡µé¢

2. **ç‚¹å‡» "Open Existing Project"**
   - è·³è½¬åˆ° `/editor`
   - ä½†æ²¡æœ‰é¡¹ç›®å‚æ•°ï¼Œæ‰€ä»¥èµ„æºåˆ—è¡¨ä¸ºç©º

---

## ğŸ“Š æµ‹è¯•æ£€æŸ¥æ¸…å•

### å‰ç«¯æµ‹è¯•

- [ ] ä¸»é¡µ `/` æ­£å¸¸æ˜¾ç¤º
- [ ] é¡¹ç›®åˆ›å»ºé¡µ `/project` è¡¨å•å¯å¡«å†™
- [ ] è¡¨å•éªŒè¯å·¥ä½œï¼ˆç©ºå­—æ®µæç¤ºï¼‰
- [ ] åˆ›å»ºæˆåŠŸæç¤ºæ˜¾ç¤º
- [ ] ç¼–è¾‘å™¨é¡µé¢ `/editor` æ˜¾ç¤º
- [ ] èµ„æºé¢æ¿æ˜¾ç¤ºèµ„æºåˆ—è¡¨
- [ ] èµ„æºæ ‡ç­¾é¡µåˆ‡æ¢å·¥ä½œ
- [ ] è¿”å›æŒ‰é’®å·¥ä½œ
- [ ] é”™è¯¯æç¤ºæ­£å¸¸æ˜¾ç¤º

### åç«¯æµ‹è¯•

- [ ] `create_project` å‘½ä»¤æˆåŠŸæ‰§è¡Œ
- [ ] æ–‡ä»¶å¤¹ç»“æ„å®Œæ•´åˆ›å»º
- [ ] `project.json` æ–‡ä»¶å†…å®¹æ­£ç¡®
- [ ] `protocol.json` æ–‡ä»¶å†…å®¹æ­£ç¡®
- [ ] `list_resources` å‘½ä»¤è¿”å›æ­£ç¡®ç»“æœ
- [ ] èµ„æºç±»å‹è¯†åˆ«æ­£ç¡®
- [ ] æ–‡ä»¶è·¯å¾„æ­£ç¡®

### é›†æˆæµ‹è¯•

- [ ] å‰åç«¯ IPC é€šä¿¡æ­£å¸¸
- [ ] é¡¹ç›®åˆ›å»ºåè‡ªåŠ¨è·³è½¬ç¼–è¾‘å™¨
- [ ] ç¼–è¾‘å™¨è‡ªåŠ¨åŠ è½½èµ„æº
- [ ] é¡¹ç›®åç§°æ­£ç¡®æå–å’Œæ˜¾ç¤º
- [ ] å¤šé¡¹ç›®æ”¯æŒï¼ˆåˆ›å»ºå¤šä¸ªé¡¹ç›®ï¼‰
- [ ] é”™è¯¯å¤„ç†å’Œæç¤º

---

## ğŸ› è°ƒè¯•æŠ€å·§

### å¯ç”¨ Tauri æ—¥å¿—

åœ¨ `src-tauri/src/lib.rs` ä¸­å·²é…ç½®æ—¥å¿—æ’ä»¶ï¼š

```rust
if cfg!(debug_assertions) {
  app.handle().plugin(
    tauri_plugin_log::Builder::default()
      .level(log::LevelFilter::Info)
      .build(),
  )?;
}
```

**æŸ¥çœ‹æ—¥å¿—**:
1. æŒ‰ `F12` æ‰“å¼€å¼€å‘è€…å·¥å…·
2. æŸ¥çœ‹ "Console" æ ‡ç­¾

### ä½¿ç”¨ Rust è°ƒè¯•å™¨

```bash
# Windows (MSVC)
set RUST_BACKTRACE=1
cargo tauri dev

# Mac/Linux
RUST_BACKTRACE=1 cargo tauri dev
```

### æµè§ˆå™¨ DevTools

**æ£€æŸ¥ IPC è°ƒç”¨**:
```javascript
// åœ¨æµè§ˆå™¨ Console ä¸­
// ç›‘å¬æ‰€æœ‰ invoke è°ƒç”¨
window.__TAURI_INTERNALS__.listenerMap
```

**æµ‹è¯• IPC è°ƒç”¨**:
```javascript
import { invoke } from '@tauri-apps/api/core';

// æµ‹è¯• create_project
const result = await invoke('create_project', {
  projectName: 'TestProject',
  projectPath: '/path/to/projects'
});
console.log(result);
```

---

## ğŸ“‹ æµ‹è¯•æŠ¥å‘Šæ¨¡æ¿

### æµ‹è¯•æ—¥æœŸ: _________
### æµ‹è¯•äººå‘˜: _________
### Tauri ç‰ˆæœ¬: _________
### Node ç‰ˆæœ¬: _________
### Rust ç‰ˆæœ¬: _________

| æµ‹è¯•é¡¹ç›® | é¢„æœŸç»“æœ | å®é™…ç»“æœ | çŠ¶æ€ | å¤‡æ³¨ |
|---------|---------|---------|------|------|
| é¡¹ç›®åˆ›å»º | æ–‡ä»¶å¤¹åˆ›å»ºæˆåŠŸ | | âœ…/âŒ | |
| èµ„æºåŠ è½½ | æ˜¾ç¤ºèµ„æºåˆ—è¡¨ | | âœ…/âŒ | |
| è·³è½¬ç¼–è¾‘å™¨ | è‡ªåŠ¨è·³è½¬ | | âœ…/âŒ | |
| é”™è¯¯å¤„ç† | æ˜¾ç¤ºé”™è¯¯æç¤º | | âœ…/âŒ | |
| è¿”å›ä¸»é¡µ | è¿”å›æˆåŠŸ | | âœ…/âŒ | |

---

## ğŸš€ æ€§èƒ½æµ‹è¯•

### æµ‹è¯•å¤§é‡èµ„æº

**æ­¥éª¤**:

1. **åˆ›å»ºæµ‹è¯•èµ„æº**
   ```bash
   # åˆ›å»º 100 ä¸ªè™šæ‹Ÿèµ„æºæ–‡ä»¶
   for i in {1..100}; do
     touch "MyFirstProject/resources/file_$i.mp4"
   done
   ```

2. **åˆ·æ–°ç¼–è¾‘å™¨**
   - æµ‹é‡åŠ è½½æ—¶é—´
   - æ£€æŸ¥ UI å“åº”æ€§
   - æŸ¥çœ‹å†…å­˜ä½¿ç”¨

3. **é¢„æœŸç»“æœ**
   ```
   âœ… åŠ è½½æ—¶é—´ < 1 ç§’
   âœ… UI ä¸å¡é¡¿
   âœ… å†…å­˜ä½¿ç”¨åˆç†
   ```

---

## ğŸ” å¸¸è§é—®é¢˜æ’æŸ¥

### é—®é¢˜: å‘½ä»¤æœªå®šä¹‰

**é”™è¯¯ä¿¡æ¯**: `Unknown variant: create_project`

**è§£å†³**:
```rust
// æ£€æŸ¥ lib.rs ä¸­æ˜¯å¦æ³¨å†Œå‘½ä»¤
.invoke_handler(tauri::generate_handler![
    commands::create_project,  // â† ç¡®ä¿è¿™è¡Œå­˜åœ¨
    // ... å…¶ä»–å‘½ä»¤
])
```

### é—®é¢˜: IPC è°ƒç”¨è¶…æ—¶

**ç—‡çŠ¶**: æŒ‰é’®ç‚¹å‡»åæ— ååº”

**æ’æŸ¥**:
1. æ£€æŸ¥åç«¯å‘½ä»¤æ˜¯å¦å®ç°
2. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯
3. æ£€æŸ¥ Tauri æ—¥å¿—
4. é‡å¯å¼€å‘æœåŠ¡å™¨

### é—®é¢˜: èµ„æºæœªæ˜¾ç¤º

**æ’æŸ¥**:
1. ç¡®è®¤æ–‡ä»¶å·²å¤åˆ¶åˆ° `resources/` æ–‡ä»¶å¤¹
2. æ£€æŸ¥æ–‡ä»¶æ‰©å±•åæ˜¯å¦æ­£ç¡®
3. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯
4. æ£€æŸ¥åç«¯ `list_resources` å‘½ä»¤è¾“å‡º

### é—®é¢˜: é¡¹ç›®è·¯å¾„ä¸­æ–‡ä¹±ç 

**è§£å†³**:
```rust
// ç¡®ä¿ä½¿ç”¨ UTF-8 ç¼–ç 
let project_path = std::path::PathBuf::from(&project_path);
```

---

## âœ… å‘å¸ƒå‰æ£€æŸ¥

åœ¨å‘å¸ƒåº”ç”¨å‰ï¼Œéœ€è¦å®Œæˆä»¥ä¸‹æ£€æŸ¥ï¼š

- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] æ— é”™è¯¯å’Œè­¦å‘Š
- [ ] æ—¥å¿—æ­£å¸¸è¾“å‡º
- [ ] é”™è¯¯å¤„ç†å®Œå–„
- [ ] UI ç•Œé¢ç¾è§‚
- [ ] å“åº”æ—¶é—´åˆç†
- [ ] å†…å­˜å ç”¨æ­£å¸¸
- [ ] è·¨å¹³å°æµ‹è¯• (Windows/Mac/Linux)

---

## ğŸ“ æµ‹è¯•æ”¯æŒ

é‡åˆ°é—®é¢˜æ—¶ï¼Œè¯·æä¾›ï¼š

1. æ“ä½œç³»ç»Ÿå’Œç‰ˆæœ¬
2. é”™è¯¯ä¿¡æ¯å’Œæ—¥å¿—
3. å¤ç°æ­¥éª¤
4. é¢„æœŸè¡Œä¸º
5. å®é™…è¡Œä¸º
6. æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ (F12)

---

_æœ€åæ›´æ–°: 2025-11-29_  
_ç‰ˆæœ¬: 0.1.0_
